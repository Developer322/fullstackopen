{"version":3,"sources":["components/personform.js","components/persons.js","components/filter.js","components/notification.js","services/persons.js","index.js"],"names":["PersonForm","onPersonAdded","onNameChanged","onNumberChanged","name","number","onChange","value","type","onClick","Person","onDelete","Persons","persons","filter","deleteHandler","person","toLowerCase","includes","map","key","id","Filter","onFilterChanged","notificationStyles","info","border","color","padding","maxWidth","backgroundColor","error","Notification","message","status","style","baseUrl","updateUserNumber","showError","axios","put","then","response","data","catch","ReactDOM","render","useState","newName","setNewName","newNumber","setNewNumber","filterText","setFilterText","setPersons","errorMessage","setErrorMessage","statusMessage","setStatusMessage","useEffect","showMessage","get","setTimeout","e","target","preventDefault","foundPerson","find","window","confirm","updatedPerson","newPerson","post","addPerson","delete","deletePerson","document","getElementById"],"mappings":"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","file":"static/js/main.80b54cc1.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonForm = ({onPersonAdded, onNameChanged, onNumberChanged, name, number}) => <form>\r\n    <div>name: <input onChange={onNameChanged} value={name} /></div>\r\n    <div>number: <input onChange={onNumberChanged} value={number} /></div>\r\n    <div><button type=\"submit\" onClick={onPersonAdded}>add</button></div>\r\n</form>\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({persons, filter, deleteHandler}) => <div>\r\n    {\r\n    (persons.filter( person => \r\n        person.name.toLowerCase().includes(filter.toLowerCase())\r\n        ) || []).map( person => \r\n            <Person {...person} key={person.name} onDelete={deleteHandler(person.id, person.name)}/>)\r\n    }\r\n    </div>\r\n\r\nconst Person = ({name, number, onDelete}) => <div>{`${name} ${number}`} <button onClick={onDelete}>delete</button></div>\r\n\r\nexport default Persons\r\n","import React from 'react'\r\n\r\nconst Filter = ({onFilterChanged, filter}) => <form>\r\n    filter shown with \r\n    <input onChange={onFilterChanged} value={filter}></input>\r\n</form>\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Notification = ({ message, status }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div style={status == 'error' ? notificationStyles.error : notificationStyles.info} >\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nconst notificationStyles = {\r\n  info:{\r\n    border: '3px solid green',\r\n    color: 'green',\r\n    padding:3,\r\n    maxWidth:300,\r\n    backgroundColor:'#ccc'\r\n},\r\nerror:{\r\n  border: '3px solid red',\r\n  color: 'red',\r\n  padding:3,\r\n  maxWidth:300,\r\n  backgroundColor:'#ccc'\r\n}\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = showError => \r\n    axios\r\n        .get(baseUrl)\r\n            .then(response => response.data)\r\n                .catch(error => {\r\n                    showError(`Error: ${error}`, 'error')\r\n                    throw error\r\n                })\r\n\r\nconst addPerson = (newPerson, showError) => \r\n    axios\r\n        .post(baseUrl, newPerson)\r\n            .then(response => response.data)\r\n                .catch(error => {\r\n                    showError(`Error: ${error}`, 'error')\r\n                    throw error\r\n                })\r\n\r\nconst deletePerson = (id, showError) => \r\n    axios\r\n        .delete(`${baseUrl}/${id}`)\r\n            .then(response => response.data)\r\n                .catch(error => {\r\n                    showError(`Error: ${error}`, 'error')\r\n                    throw error\r\n                })\r\n\r\nconst updateUserNumber = (person, showError) => \r\n    axios\r\n        .put(`${baseUrl}/${person.id}`, {...person})\r\n            .then(response => response.data)\r\n                .catch(error => {\r\n                    showError(`Information of ${person.name} has already been removed from server`, 'error')\r\n                    throw error\r\n                })\r\n\r\nexport { getAll, addPerson, deletePerson, updateUserNumber }","import React, {useState, useEffect} from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport PersonForm from './components/personform.js'\r\nimport Persons from './components/persons.js'\r\nimport Filter from './components/filter.js'\r\nimport Notification from './components/notification.js'\r\nimport {getAll, addPerson, deletePerson, updateUserNumber} from './services/persons.js'\r\n\r\nconst App = () => {\r\n    const [ newName, setNewName ] = useState('')\r\n    const [ newNumber, setNewNumber ] = useState('')\r\n    const [ filterText, setFilterText ] = useState('')\r\n    const [ persons, setPersons ] = useState([])\r\n    const [errorMessage, setErrorMessage] = useState(null)\r\n    const [statusMessage, setStatusMessage] = useState('info')\r\n\r\n    useEffect(() => getAll(showMessage).then(response => setPersons(response)), [])\r\n\r\n    const onPersonAdded = e =>{\r\n        e.preventDefault()\r\n        const foundPerson = persons.find( person => person.name == newName)\r\n        if(foundPerson){\r\n          if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\r\n            const updatedPerson = {\r\n              ...foundPerson, \r\n              number: newNumber\r\n            }\r\n\r\n            updateUserNumber(updatedPerson, showMessage)\r\n              .then( response => {\r\n                showMessage(`Changed ${response.name}`)\r\n                setPersons(persons.map( person => person.id == response.id ? response : person ))\r\n              })\r\n          }\r\n          \r\n          return\r\n        }\r\n\r\n        const newPerson = {\r\n          name: newName, \r\n          number: newNumber\r\n        }\r\n\r\n        addPerson(newPerson, showMessage).then(response => {\r\n          showMessage(`Added ${response.name}`)\r\n          setPersons([...persons, {...response}])\r\n        })\r\n    }\r\n    \r\n    const showMessage = (message, status) =>{\r\n      setErrorMessage(message)\r\n      if(statusMessage != status){\r\n        setStatusMessage(status)\r\n      }\r\n      setTimeout(() => setErrorMessage(null), 3000)\r\n    }\r\n    \r\n\r\n    const onNameChanged = e => setNewName(e.target.value)\r\n\r\n    const onNumberChanged = e => setNewNumber(e.target.value)\r\n\r\n    const onFilterChanged = e => setFilterText(e.target.value)\r\n\r\n    const onPersonDeleted = (id, name) => e => window.confirm(`Delete ${name}?`) && deletePerson(id, showMessage).then(response => {\r\n      showMessage(`Deleted ${name}`)\r\n      setPersons( persons.filter( person => person.id != id) )\r\n    })\r\n\r\n    return (\r\n      <div>\r\n        <h2>Phonebook</h2>\r\n  \r\n        <Filter onFilterChanged={onFilterChanged} filter={filterText} />\r\n\r\n        <Notification message={errorMessage} status={statusMessage} />\r\n\r\n        <h3>Add a new</h3>\r\n  \r\n        <PersonForm onPersonAdded={onPersonAdded} onNameChanged={onNameChanged} onNumberChanged={onNumberChanged} name={newName} number={newNumber} />\r\n  \r\n        <h3>Numbers</h3>\r\n  \r\n        <Persons persons={persons} filter={filterText} deleteHandler={onPersonDeleted} />\r\n      </div>\r\n    )\r\n  }\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}